import { Injectable } from '@angular/core';
import { User } from '../models/user';

@Injectable({
  providedIn: 'root'
})
export class AuthService {

  avatarTestUrl='data:image/png;base64,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';
  avatarTest2='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaBtLtVoSyCnU4FwHwBsHCi3fuYNvu_pCxhQ&usqp=CAU';
  myUser:any;
  user:any;
  private list:User[]=[
    { id:1000,username:'test999@mail.com',password:'test?999',role:'administrator',photo:this.avatarTestUrl },
    { id:1001,username:'admin@mail.com',password:'admin?999',role:'administrator',photo:this.avatarTest2 },
    { id:1001,username:'user@mail.com',password:'123456',role:'administrator',photo:this.avatarTest2 }
   
  ]

  constructor() { }


     login(username:string,password:string){
    this.myUser=this.list.find(x=>x.username===username && x.password===password);
    if(this.myUser===undefined){
      return null
    }else{
      localStorage.setItem('user',JSON.stringify(this.myUser))
      return this.myUser
    }
  }

    getUserById(id:number){
      this.user= this.list.find(x=>x.id===id);    
      console.log(this.user);
    }
    getCurrentUser(){
      return this.myUser;
      
    }
  logOut(){
    localStorage.clear();
    
  }
}
